I"t(function() {
  $(document).ready(function() {
    return $('form').submit(function() {
      if ($('form').attr('action') === '/exchange') {
        $.ajax('/exchange', {
          type: 'POST',
          dataType: 'json',
          data: {
            currency: $("#currency").val(),
            currency_destination: $("#currency_destination").val(),
            quantity: $("#quantity").val()
          },
          error: function(jqXHR, textStatus, errorThrown) {
            return alert(textStatus);
          },
          success: function(data, text, jqXHR) {
            return $('#result').val(data.value);
          }
        });
        return false;
      }
    });
  });

  $(document).ready(function() {
    $('#quantity').change(function() {
      if ($('form').attr('action') === '/exchange') {
        $.ajax('/exchange', {
          type: 'POST',
          dataType: 'json',
          data: {
            currency: $("#currency").val(),
            currency_destination: $("#currency_destination").val(),
            quantity: $("#quantity").val()
          },
          error: function(jqXHR, textStatus, errorThrown) {
            return alert(textStatus);
          },
          success: function(data, text, jqXHR) {
            return $('#result').val(data.value);
          }
        });
        return false;
      }
    });
    return $('#change-values').click(function() {
      var currency, currency_destination;
      currency = $("#currency").val();
      currency_destination = $("#currency_destination").val();
      $("#currency").val(currency_destination);
      $("#currency_destination").val(currency);
      $.ajax('/exchange', {
        type: 'POST',
        dataType: 'json',
        data: {
          currency: $("#currency").val(),
          currency_destination: $("#currency_destination").val(),
          quantity: $("#quantity").val()
        },
        error: function(jqXHR, textStatus, errorThrown) {
          return alert(textStatus);
        },
        success: function(data, text, jqXHR) {
          return $('#result').val(data.value);
        }
      });
      return false;
    });
  });

}).call(this);
:ET